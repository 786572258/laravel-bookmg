!function(e){e.fn.share=function(t,i){var n=e(document).find("img:first").prop("src"),o={url:window.location.href,site:e(document.head).find('[name="site"]').attr("content")||e(document.head).find('[name="Site"]').attr("content")||document.title,title:e(document.head).find('[name="title"]').attr("content")||e(document.head).find('[name="Title"]').attr("content")||document.title,description:e(document.head).find('[name="description"]').attr("content")||e(document.head).find('[name="Description"]').attr("content"),image:n?n:"",target:"_blank",qrcodeTitle:"微信扫一扫：分享",qrcodeWidth:100,sites:["qzone","qq","weibo","wechat","douban"]},c=e.extend(!0,o,i);c.url=encodeURI(c.url),c.site=encodeURI(c.site),c.title=encodeURI(c.title),c.description=encodeURI(c.description);var a={qzone:"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url="+c.url+"&title="+c.title+"&desc="+c.description+"&summary="+c.description+"&site="+c.site+(c.image?c.image:""),qq:"http://connect.qq.com/widget/shareqq/index.html?url="+c.url+"&title="+c.title+"&source="+c.site+"&desc="+c.description,weibo:"http://service.weibo.com/share/share.php?url="+c.url+"&title="+c.title+c.description+(c.image?"&pic="+c.image:""),wechat:"javascript:;",douban:"http://shuo.douban.com/!service/share?href="+c.url+"&name="+c.title+"&text="+c.description+(c.image?"&image="+c.image:"")+"&starid=0&aid=0&style=11&stime=&sig="};this.each(function(){var t=e(this).addClass("sns-share-component");for($i in c.sites){var i=c.sites[$i],n=e('<a href="" class="'+i+'"><i class="icon iconfont icon-'+i+'"></i></a>').attr("href",a[i]).attr("target",c.target);t.append(n)}var o=t.find("a.wechat");"function"==typeof e.fn.qrcode?(o.append('<span class="wechat-qrcode"></span>'),o.find(".wechat-qrcode").qrcode({width:c.qrcodeWidth,height:c.qrcodeWidth-10,text:c.url}).css({right:-c.qrcodeWidth/2,display:"block",position:"absolute",bottom:o.height()}).append(c.qrcodeTitle)):(console.error("未加载 jquery.qrcode.min.js, 无法支持微信分享"),o.hide())})}}(jQuery);